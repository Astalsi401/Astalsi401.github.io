<!DOCTYPE html>
<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F8SLV521P4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-F8SLV521P4');
    </script>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <title>非參數顯著性檢定</title>
    <link rel="stylesheet" type="text/css" href="../assets/style/main.css">
    <script src="https://astalsi401.github.io/jQuery/jquery-1.9.0.min.js"></script>
</head>

<body>
    <div id="top"></div>
    <div id="stataPage" class="sidebar"></div>
    <div id="plate"></div>
    <div class="largePic">
        <div id="pic"></div>
    </div>
    <div class="container">
        <h2 data-type="title_1" id="010">010. 非參數顯著性檢定</h2>
        <div id="showCode">本頁do file</div>
        <pre id="code">
di chi2tail(2, 5)

di invchi2tail(2, .082085)

chitesti 12 14 5 9 10 \ 10 10 10 10 10 

clear
input x y freq
0 0 15
1 0 10
0 1 5
1 1 10
end
lab variable x "political orientation"
lab var y "government preference"
lab define xlabel 0 "Liberal" 1 "Conservative"
lab define y      0 "Large  " 1 "Small"
lab value x xlabel
lab val   y y
expand freq

clear
tab x y, chi exp

tabi 15 5 \ 10 10, chi exp

prtesti 50 .54 .46
</pre>
        <div class="block">
            <ol>
                <li>參數顯著性檢驗：</li>
                <ol type="i">
                    <li>母體的分佈是常態分配（或樣本數夠大，使其平均數的分佈也呈現常態分配）</li>
                    <li>測量的尺度是區間（interval）尺度</li>
                </ol>
                <li>非參數顯著性檢驗：</li>
                <ol type="i">
                    <li>不需要對總體分佈做事先的假定。例如，不需要假定母體分佈呈常態分配。</li>
                    <li>當變項的測量尺度是名目（nominal）或等距（ordinal）尺度。</li>
                    <li>非參數顯著性檢驗並不是在檢驗平均數是否相等的虛無假設，而是：</li>
                    <ul>
                        <li>當變項只有一個時：檢驗變項的分配是否符合某種分配</li>
                        <li>當有兩個變項時：探討變項是否獨立或是否有關聯。</li>
                    </ul>
                </ol>
                <li>非參數顯著性檢驗採用的是卡方分配（Chi Square distribution）</li>
                <div class="img-block"><img id="chi-square01" src="" alt=""></div>
                <ol type="i">
                    <li>是右偏的分配。</li>
                    <li>最小檢定值<i>&Chi;<sup>2</sup></i>=0，因此統計量不會是負數。</li>
                    <li>卡方分配的平均值<i>&mu;</i>及標準差都被自由度（Degree of Freedom, df）所決定。自由度增加時，其分配就愈趨於常態曲線。</li>
                    <li><i>&Chi;<sup>2</sup></i>值愈大，拒絕虛無假設的可能性就愈大。</li>
                    <li>以STATA找出分配數值的指令：</li>
                    <ul>
                        <li>若自由度為2，<i>&Chi;<sup>2</sup></i>=5時，找出右邊分配的機率值</li>
                        <pre id="stlog-29" class="stlog"><samp><span class="stinp">. di chi2tail(2, 5)</span>
<span class="stres">.082085</span>
</samp></pre>
                        <li>若自由度為2，右邊機率值為0.082085時，找出<i>&Chi;<sup>2</sup></i>值</li>
                        <pre id="stlog-30" class="stlog"><samp><span class="stinp">. di invchi2tail(2, .082085)</span>
<span class="stres">5</span>
</samp></pre>
                    </ul>
                </ol>
                <li>One-way Chi-square test：檢驗變項的分配是否符合某種分配</li>
                <ol type="i">
                    <li>目的就是用於檢驗樣本的分佈是否符合某種理論分佈或某種假設的分佈。</li>
                    <ul>
                        <li><i>H<sub>1</sub></i>：母體不為某種比例分配</li>
                        <li><i>H<sub>0</sub></i>：母體在某性質上呈現某種比例分配</li>
                    </ul>
                </ol>
                <li>計算方式</li>
                <ul>
                    <li><i>f<sub>o</sub></i>=被觀察到的數值</li>
                    <li><i>f<sub>e</sub></i>=被期望到的數值</li>
                    <li>公式為：<img src="data:image/png;base64,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" widyh="111" heigh="48"></li>
                </ul>
            </ol>
        </div>
        <div class="block">
            <p><b>範例1：</b></p>
            <p>在選擇題測驗中，有50個選擇題，每題的答案範圍由A至E，但其中只有一個是標準答案。在考完試後，老師公佈標準答案，其分配如下：</p>
            <table>
                <tr>
                    <th>標準答案</th>
                    <th>數量</th>
                </tr>
                <tr>
                    <td>A</td>
                    <td>12</td>
                </tr>
                <tr>
                    <td>B</td>
                    <td>14</td>
                </tr>
                <tr>
                    <td>C</td>
                    <td>9</td>
                </tr>
                <tr>
                    <td>D</td>
                    <td>5</td>
                </tr>
                <tr>
                    <td>E</td>
                    <td>10</td>
                </tr>
            </table>

            <p>此處的虛無假設是樣本符合母體中各類別之分佈符合平均分配（Pr>0.05）</p>
            <pre id="stlog-31" class="stlog"><samp><span class="stinp">. chitesti 12 14 5 9 10 \ 10 10 10 10 10 </span>

observed frequencies from keyboard; expected frequencies from keyboard

         Pearson chi2(<span class="stres">4</span>) = <span class="stres">  4.6000</span>   Pr = <span class="stres"> 0.331</span>
likelihood-ratio chi2(<span class="stres">4</span>) = <span class="stres">  4.9690</span>   Pr = <span class="stres"> 0.290</span>

  +-------------------------------------------+
  | <span class="stres">observed   expected   obs - exp   Pearson </span>|
  |-------------------------------------------|
  | <span class="stres">      12     10.000       2.000     0.632 </span>|
  | <span class="stres">      14     10.000       4.000     1.265 </span>|
  | <span class="stres">       5     10.000      -5.000    -1.581 </span>|
  | <span class="stres">       9     10.000      -1.000    -0.316 </span>|
  | <span class="stres">      10     10.000       0.000     0.000 </span>|
  +-------------------------------------------+
</samp></pre>
        </div>
        <div class="block">
            <p><b>範例2：</b></p>
            <p>輸入資料</p>
            <pre id="stlog-32" class="stlog"><samp><span class="stinp">. clear</span>

<span class="stinp">. input x y freq</span>

             x          y       freq
  1. 0 0 15
  2. 1 0 10
  3. 0 1 5
  4. 1 1 10
  5. end

<span class="stinp">. </span>
<span class="stinp">. lab variable x "political orientation"</span>

<span class="stinp">. lab var y "government preference"</span>

<span class="stinp">. lab define xlabel 0 "Liberal" 1 "Conservative"</span>

<span class="stinp">. lab define y      0 "Large  " 1 "Small"</span>

<span class="stinp">. lab value x xlabel</span>

<span class="stinp">. lab val   y y</span>

<span class="stinp">. expand freq</span>
(36 observations created)
<span class="stinp">. </span>
</samp></pre>

            <p>自由主義與保守主義對政府的偏好沒有顯著區別（Pr>0.05）。</p>
            <pre id="stlog-32-1" class="stlog"><samp><span class="stinp">. clear</span>
<span class="stinp">. tab x y, chi exp</span>

+--------------------+
| Key                |
|--------------------|
|     <i>frequency</i>      |
| <i>expected frequency</i> |
+--------------------+

   political | government preference
 orientation |   Large        Small |     Total
-------------+----------------------+----------
     Liberal |<span class="stres">        15          5 </span>|<span class="stres">        20 </span>
<span class="stres">                          </span>|<span class="stres">      12.5        7.5 </span>|<span class="stres">      20.0 </span>
-------------+----------------------+----------
Conservative |<span class="stres">        10         10 </span>|<span class="stres">        20 </span>
<span class="stres">                          </span>|<span class="stres">      12.5        7.5 </span>|<span class="stres">      20.0 </span>
-------------+----------------------+----------
       Total |<span class="stres">        25         15 </span>|<span class="stres">        40 </span>
<span class="stres">                          </span>|<span class="stres">      25.0       15.0 </span>|<span class="stres">      40.0 </span>

          Pearson chi2(<span class="stres">1</span>) = <span class="stres">  2.6667  </span> Pr = <span class="stres">0.102</span>
</samp></pre>
            <p>也能直接用這種方法</p>
            <pre id="stlog-33" class="stlog"><samp><span class="stinp">. tabi 15 5 \ 10 10, chi exp</span>

+--------------------+
| Key                |
|--------------------|
|     <i>frequency</i>      |
| <i>expected frequency</i> |
+--------------------+

           |          col
       row |         1          2 |     Total
-----------+----------------------+----------
         1 |<span class="stres">        15          5 </span>|<span class="stres">        20 </span>
<span class="stres">                      </span>|<span class="stres">      12.5        7.5 </span>|<span class="stres">      20.0 </span>
-----------+----------------------+----------
         2 |<span class="stres">        10         10 </span>|<span class="stres">        20 </span>
<span class="stres">                      </span>|<span class="stres">      12.5        7.5 </span>|<span class="stres">      20.0 </span>
-----------+----------------------+----------
     Total |<span class="stres">        25         15 </span>|<span class="stres">        40 </span>
<span class="stres">                      </span>|<span class="stres">      25.0       15.0 </span>|<span class="stres">      40.0 </span>

          Pearson chi2(<span class="stres">1</span>) = <span class="stres">  2.6667  </span> Pr = <span class="stres">0.102</span>
</samp></pre>
        </div>
        <div class="block">
            <p><b>範例3：</b></p>
            <p>某校男女生比例相同。現隨機抽取50名學生，其中男生27人，而女生23人。問此一抽樣比例是否符合該校男女生比例？</p>
            <p>Pr>0.05，符合</p>
            <pre id="stlog-34" class="stlog"><samp><span class="stinp">. prtesti 50 .54 .46</span>

One-sample test of proportion                      <span class="stres">x</span>: Number of obs = <span class="stres">      50</span>
------------------------------------------------------------------------------
             |       Mean   Std. Err.                     [95% Conf. Interval]
-------------+----------------------------------------------------------------
           x |<span class="stres">        .54    .070484                      .4018538    .6781462</span>
------------------------------------------------------------------------------
    p = proportion(<span class="stres">x</span>)                                             z = <span class="stres">  1.1350</span>
Ho: p = <span class="stres">0.46</span>

<span class="stres">    </span>Ha: p &lt; <span class="stres">0.46                 </span>Ha: p != <span class="stres">0.46                 </span>Ha: p &gt; <span class="stres">0.46</span>
<span class="stres"> </span>Pr(Z &lt; z) = <span class="stres">0.8718         </span>Pr(|Z| &gt; |z|) = <span class="stres">0.2564          </span>Pr(Z &gt; z) = <span class="stres">0.1282</span>
</samp></pre>
        </div>
    </div>
    <script>
        const requestURL = '../assets/js/json/data.json'
        const picsUrl = '../assets/js/json/pics/stata010.json'
    </script>
    <script src="../assets/js/main.js"></script>
</body>

</html>