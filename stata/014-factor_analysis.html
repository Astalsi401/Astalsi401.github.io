<!DOCTYPE html>
<html>

<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-F8SLV521P4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-F8SLV521P4');
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>因素分析</title>
    <link rel="stylesheet" type="text/css" href="../assets/style/main.css">
</head>

<body>
    <header>
        <div id="top"></div>
        <div id="stataPage" class="sidebar"></div>
        <div id="plate"></div>
        <div class="largePic">
            <div id="pic"></div>
        </div>
    </header>
    <main class="container">
        <h2 data-type="title_1" id="014">因素分析</h2>
        <div id="showCode">本頁do file</div>
        <pre id="code"><code>
            
cd data
use "tscs071 v4.dta", clear
cd ..
d e2a-e2i

local i = 1

foreach w in a b c d e f g h i {
    cap drop e2_`i'
    recode e2`w' (1=4) (2=3) (95/98=.) (3=2) (4=1), g(e2_`i')
    local i = `i'+1
}

lab var e2_1  "e2a 因為努力不夠"
lab var e2_2  "e2b 因為命運不好"
lab var e2_3  "e2c 因為能力,才智不夠"
lab var e2_4  "e2d 因為隨意用錢"
lab var e2_5  "e2e 因為身體不好"
lab var e2_6  "e2f 因為沒有工作機會"
lab var e2_7  "e2g 因為社會對他(她)不公平"
lab var e2_8  "e2h 因為他(她)不願意工作"
lab var e2_9  "e2i 因為他(她)家庭背景不好"

mvpatterns e2_*

alpha e2_1-e2_9, d std item label

factor e2_1 e2_2 e2_3 e2_4 e2_5 e2_6 e2_7 e2_8 e2_9, pcf mineigen(0)
factor e2_1 e2_2 e2_3 e2_4 e2_5 e2_6 e2_7 e2_9, pcf mineigen(0)
factor e2_1 e2_3 e2_4 e2_5 e2_6 e2_7 e2_9, pcf mineigen(0)

screeplot, scheme(s1color) yline(1) ///
    xaxis (1 2) yaxis (1 2)   ///
    ylabel(, axis(1) nogrid)  ///
    ylabel(, axis(2) nolabel) ///
    xlabel(, axis(2) nolabel) ///
    xsize(4) ///
    xtitle("", axis(2)) ///
    ytitle("", axis(2))

factor e2_1 e2_2 e2_3 e2_4  e2_6 e2_7  e2_9, pcf mineigen(0)
fapara, seed(123456789)   /*parallel analysis用於瞭解有幾個潛在因子*/

estat kmo

factor e2_1 e2_2, pcf
estat kmo
rotate, blank(.4)   /* &lt;0.4，空白 */

rotate, clear
rotate, blank(.4)
loadingplot  /* 以圖形顯示各變項之座標 */

predict noeffort noluck

sum noluck noeffort   /*平均數為0，標準差為1:標準常態分佈*/

cap drop noeffort2
cap drop noluck2
g noeffort2   = (e2_1 + e2_4 + e2_8 )/3
g noluck2 = (e2_2 + e2_3 + e2_5 +e2_9)/4
sum  noluck2 noeffort2
list e2_2  e2_6  e2_7  e2_9 noluck2 in 1/5 , noobs clean
list e2_1  e2_3  e2_4  noeffort2 in 1/5 , noobs clean
lab var noluck2 "總加運氣指數"               /* 請注意：這是反向的總分，愈高分代表愈沒有努力 */
lab var noeffort2 "總加個人努力指數"           /* 請注意：這是反向的總分，愈高分代表愈沒有運氣 */
corr noeffort2 noluck2

g noluck3=100*normal(noluck)
lab var noluck3 "常模運氣指數"
g noeffort3=100*normal(noeffort)
lab var noeffort3 "常模個人努力指數"
sum noluck3 noeffort3
corr noluck3 noeffort3

list e2_2  e2_6  e2_7  e2_9 noluck3 in 1/20 , noobs clean

        </code></pre>
        <section>
            <p>因素分析以所觀察到的變項的數據為基礎，找出其中的潛在變項（或一些共同因子），其步驟如下：</p>
            <ol type="i">
                <li>先檢查要觀察的變項內容，並對這些變項做些調整，如：重新編碼、定義遺漏值。</li>
                <li>檢查要觀察的變項數值，初步瞭解其中的關連。</li>
                <li>初步因素分析，以確定有幾個潛在因子，并考慮是否要丟掉一些觀察變項。</li>
                <li>正式分析，並進行座標軸旋轉，以突出潛在因子。</li>
                <li>建立潛在因子變項。</li>
            </ol>
        </section>
        <section>
            <h3 data-type="title_2" id="14-1">範例：</h3>
            <p>因素分析 - 會窮的原因（題號e2a-e2i）</p>
            <ol>
                <li><b>先檢查要觀察的變項內容，並對這些變項做些調整。</b></li>
                <pre id="stlog-1" class="stlog"><samp><span class="stinp">. cd data</span>
<span class="stres">C:\Users\misti\Documents\Stata\unify\data</span>

<span class="stinp">. use "tscs071 v4.dta", clear</span>

<span class="stinp">. cd ..</span>
<span class="stres">C:\Users\misti\Documents\Stata\unify</span>

<span class="stinp">. </span>
<span class="stinp">. d e2a-e2i</span>

              storage   display    value
variable name   type    format     label      variable label
---------------------------------------------------------------------------------------------------------------
<span class="stres">e2a            </span> byte    %22.0f     e2a        <span class="stres">e2a 一個人會窮的原因有很多,您贊不贊成一個人會窮是因為努力不夠</span>
<span class="stres">e2b            </span> byte    %22.0f     e2a        <span class="stres">e2b 一個人會窮的原因有很多,您贊不贊成一個人會窮是因為命運不好</span>
<span class="stres">e2c            </span> byte    %22.0f     e2a        <span class="stres">e2c</span>
                                                <span class="stres">一個人會窮的原因有很多,您贊不贊成一個人會窮是因為能力,才智不夠</span>
<span class="stres">e2d            </span> byte    %22.0f     e2a        <span class="stres">e2d 一個人會窮的原因有很多,您贊不贊成一個人會窮是因為隨意用錢</span>
<span class="stres">e2e            </span> byte    %22.0f     e2a        <span class="stres">e2e 一個人會窮的原因有很多,您贊不贊成一個人會窮是因為身體不好</span>
<span class="stres">e2f            </span> byte    %22.0f     e2a        <span class="stres">e2f 一個人會窮的原因有很多,您贊不贊成一個人會窮是因為沒有工作機會</span>
<span class="stres">e2g            </span> byte    %22.0f     e2a        <span class="stres">e2g</span>
                                                <span class="stres">一個人會窮的原因有很多,您贊不贊成一個人會窮是因為社會對他(她)不</span>
                                                <span class="stres">&gt; 公平</span>
<span class="stres">e2h            </span> byte    %22.0f     e2a        <span class="stres">e2h</span>
                                                <span class="stres">一個人會窮的原因有很多,您贊不贊成一個人會窮是因為他(她)不願意工</span>
                                                <span class="stres">&gt; 作</span>
<span class="stres">e2i            </span> byte    %22.0f     e2a        <span class="stres">e2i</span>
                                                <span class="stres">一個人會窮的原因有很多,您贊不贊成一個人會窮是因為他(她)家庭背景</span>
                                                <span class="stres">&gt; 不好</span>

<span class="stinp">. local i = 1</span>

<span class="stinp">. foreach w in a b c d e f g h i {</span>
  2<span class="stinp">.         cap drop e2_`i'</span>
  3<span class="stinp">.         recode e2`w' (1=4) (2=3) (95/98=.) (3=2) (4=1), g(e2_`i')</span>
  4<span class="stinp">.         local i = `i'+1</span>
  5<span class="stinp">. }</span>
(2040 differences between e2a and e2_1)
(2040 differences between e2b and e2_2)
(2040 differences between e2c and e2_3)
(2040 differences between e2d and e2_4)
(2040 differences between e2e and e2_5)
(2040 differences between e2f and e2_6)
(2040 differences between e2g and e2_7)
(2040 differences between e2h and e2_8)
(2040 differences between e2i and e2_9)
</samp></pre>
                <p>重新命名var name</p>
                <pre id="stlog-2" class="stlog"><samp><span class="stinp">. lab var e2_1  "e2a 因為努力不夠"</span>

<span class="stinp">. lab var e2_2  "e2b 因為命運不好"</span>

<span class="stinp">. lab var e2_3  "e2c 因為能力,才智不夠"</span>

<span class="stinp">. lab var e2_4  "e2d 因為隨意用錢"</span>

<span class="stinp">. lab var e2_5  "e2e 因為身體不好"</span>

<span class="stinp">. lab var e2_6  "e2f 因為沒有工作機會"</span>

<span class="stinp">. lab var e2_7  "e2g 因為社會對他(她)不公平"</span>

<span class="stinp">. lab var e2_8  "e2h 因為他(她)不願意工作"</span>

<span class="stinp">. lab var e2_9  "e2i 因為他(她)家庭背景不好"</span>
</samp></pre>
                <p>查看會有多少樣本會變為遺漏值，若是太嚴重的話，就要進行修補。但由以下情形評斷，只會丟掉44個cases，還算不嚴重（10%左右的遺失值屬於比較嚴重的）。</p>
                <pre id="stlog-3" class="stlog"><samp><span class="stinp">. mvpatterns e2_*</span>
Variable     | type     obs   mv   variable label
-------------+---------------------------------------------------------
e2_1         |<span class="stres"> byte    2022   18   </span>e2a 因為努力不夠
e2_2         |<span class="stres"> byte    2016   24   </span>e2b 因為命運不好
e2_3         |<span class="stres"> byte    2013   27   </span>e2c 因為能力,才智不夠
e2_4         |<span class="stres"> byte    2016   24   </span>e2d 因為隨意用錢
e2_5         |<span class="stres"> byte    2016   24   </span>e2e 因為身體不好
e2_6         |<span class="stres"> byte    2017   23   </span>e2f 因為沒有工作機會
e2_7         |<span class="stres"> byte    2004   36   </span>e2g 因為社會對他(她)不公平
e2_8         |<span class="stres"> byte    2016   24   </span>e2h 因為他(她)不願意工作
e2_9         |<span class="stres"> byte    2015   25   </span>e2i 因為他(她)家庭背景不好
-----------------------------------------------------------------------

Patterns of missing values

  +-------------------------+
  | <span class="stres"> _pattern   _mv   _freq </span>|
  |-------------------------|
  | <span class="stres">+++++++++     0    1996 </span>|
  | <span class="stres">.........     9      15 </span>|
  | <span class="stres">++++++.++     1       7 </span>|
  | <span class="stres">++.++++++     1       2 </span>|
  | <span class="stres">++.+++.++     2       2 </span>|
  |-------------------------|
  | <span class="stres">+........     8       2 </span>|
  | <span class="stres">+++++++.+     1       1 </span>|
  | <span class="stres">++++.++++     1       1 </span>|
  | <span class="stres">+.+++++++     1       1 </span>|
  | <span class="stres">++++.+.++     2       1 </span>|
  |-------------------------|
  | <span class="stres">+.++++.++     2       1 </span>|
  | <span class="stres">+.+.+++++     2       1 </span>|
  | <span class="stres">.+++.++++     2       1 </span>|
  | <span class="stres">+.++++.+.     3       1 </span>|
  | <span class="stres">+++++....     4       1 </span>|
  |-------------------------|
  | <span class="stres">+++......     6       1 </span>|
  | <span class="stres">++..+....     6       1 </span>|
  | <span class="stres">+...++...     6       1 </span>|
  | <span class="stres">+.....++.     6       1 </span>|
  | <span class="stres">.+.....++     6       1 </span>|
  |-------------------------|
  | <span class="stres">...+++...     6       1 </span>|
  | <span class="stres">++.......     7       1 </span>|
  +-------------------------+
</samp></pre>
                <li><b>信度檢驗，alpha若超過0.7，則代表各項目之間一致性很高，但此處不高，意味著有超過一個潛在因子。</b></li>
                <pre id="stlog-4" class="stlog"><samp><span class="stinp">. alpha e2_1-e2_9, d std item label</span>

Test scale = mean(standardized items)

                          item-test  item-rest  interitem
Item         |  Obs  Sign   corr.      corr.       corr.     alpha   Label
-------------+-------------------------------------------------------------------------------------------
e2_1         | <span class="stres">2022    -    0.1536    -0.1018     0.1358    0.5569   </span>e2a 因為努力不夠
e2_2         | <span class="stres">2016    +    0.5593     0.3451     0.0779    0.4032   </span>e2b 因為命運不好
e2_3         | <span class="stres">2013    +    0.5004     0.2753     0.0861    0.4297   </span>e2c 因為能力,才智不夠
e2_4         | <span class="stres">2016    +    0.3387     0.0917     0.1091    0.4947   </span>e2d 因為隨意用錢
e2_5         | <span class="stres">2016    +    0.5834     0.3778     0.0742    0.3908   </span>e2e 因為身體不好
e2_6         | <span class="stres">2017    +    0.4940     0.2680     0.0869    0.4323   </span>e2f 因為沒有工作機會
e2_7         | <span class="stres">2004    +    0.4939     0.2687     0.0870    0.4325   </span>e2g 因為社會對他(她)不公平
e2_8         | <span class="stres">2016    +    0.2826     0.0324     0.1170    0.5146   </span>e2h 因為他(她)不願意工作
e2_9         | <span class="stres">2015    +    0.5754     0.3674     0.0754    0.3947   </span>e2i 因為他(她)家庭背景不好
-------------+-------------------------------------------------------------------------------------------
Test scale   |<span class="stres">                                    0.0944    0.4839   </span>mean(standardized items)
---------------------------------------------------------------------------------------------------------

Interitem correlations (reverse applied) (obs=pairwise, see below)

         e2_1     e2_2     e2_3     e2_4     e2_5     e2_6     e2_7     e2_8     e2_9
e2_1  <span class="stres"> 1.0000</span>
e2_2  <span class="stres">-0.0058   1.0000</span>
e2_3  <span class="stres">-0.1877   0.2494   1.0000</span>
e2_4  <span class="stres">-0.3200   0.0914   0.2139   1.0000</span>
e2_5  <span class="stres">-0.0428   0.2094   0.2643   0.2142   1.0000</span>
e2_6  <span class="stres"> 0.1719   0.1208   0.0677  -0.0471   0.1738   1.0000</span>
e2_7  <span class="stres"> 0.1908   0.2108   0.0746  -0.1123   0.1196   0.2742   1.0000</span>
e2_8  <span class="stres">-0.3029   0.0410   0.1282   0.3561   0.1578  -0.0423  -0.1569   1.0000</span>
e2_9  <span class="stres"> 0.0943   0.2999   0.1767  -0.0526   0.2227   0.2446   0.3620  -0.0597   1.0000</span>

Pairwise number of observations

      e2_1  e2_2  e2_3  e2_4  e2_5  e2_6  e2_7  e2_8  e2_9
e2_1  <span class="stres">2022</span>
e2_2  <span class="stres">2014  2016</span>
e2_3  <span class="stres">2012  2009  2013</span>
e2_4  <span class="stres">2014  2012  2011  2016</span>
e2_5  <span class="stres">2015  2010  2009  2013  2016</span>
e2_6  <span class="stres">2015  2011  2011  2015  2014  2017</span>
e2_7  <span class="stres">2003  2001  2001  2002  2001  2003  2004</span>
e2_8  <span class="stres">2014  2011  2010  2013  2011  2014  2003  2016</span>
e2_9  <span class="stres">2013  2012  2010  2013  2011  2014  2003  2014  2015</span>
</samp></pre>
                <li><b>初步因素分析，以確定有幾個潛在因子。</b></li>
                <p>STATA所提供的factor analysis包括以下幾類，各有利弊</p>
                <ul>
                    <li>pf : principal-factor; the default</li>
                    <p>以R<sup>2</sup>推算因素間的共同性。</p>
                    <li>pcf: principal-component factor</li>
                    <p>共同性假定為1。</p>
                    <li>ipf: iterated principal factor</li>
                    <li>ml : maximum-likelihood factor</li>
                    <p>不適用一般資料。</p>
                </ul>
                <p>proportion：各題的影響量，cumulative：加總影量（由上而下加總）</p>
                <p>Eigenvalue/factor數量=proportion（2.05887/9=0.2288）</p>
                <pre id="stlog-5" class="stlog"><samp><span class="stinp">. factor e2_1 e2_2 e2_3 e2_4 e2_5 e2_6 e2_7 e2_8 e2_9, pcf mineigen(0)  </span>
(obs=1,996)

Factor analysis/correlation                      Number of obs    = <span class="stres">     1,996</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       9</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">      36</span>

<span class="stres">    </span>Beware: solution is a Heywood case
            (i.e., invalid or boundary values of uniqueness)

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      2.05887      0.09886            0.2288       0.2288</span>
        Factor2  |<span class="stres">      1.96001      1.04602            0.2178       0.4465</span>
        Factor3  |<span class="stres">      0.91399      0.13856            0.1016       0.5481</span>
        Factor4  |<span class="stres">      0.77543      0.02991            0.0862       0.6343</span>
        Factor5  |<span class="stres">      0.74551      0.04736            0.0828       0.7171</span>
        Factor6  |<span class="stres">      0.69815      0.04341            0.0776       0.7947</span>
        Factor7  |<span class="stres">      0.65474      0.04121            0.0727       0.8674</span>
        Factor8  |<span class="stres">      0.61354      0.03378            0.0682       0.9356</span>
        Factor9  |<span class="stres">      0.57976            .            0.0644       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">36</span>) =<span class="stres"> 2110.39</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Factor loadings (pattern matrix) and unique variances

    --------------------------------------------------------------------------------------------------------
        Variable |  Factor1   Factor2   Factor3   Factor4   Factor5   Factor6   Factor7   Factor8   Factor9 
    -------------+------------------------------------------------------------------------------------------
            e2_1 | <span class="stres"> -0.0744</span>  <span class="stres">  0.6901</span>  <span class="stres"> -0.2049</span>  <span class="stres">  0.2844</span>  <span class="stres">  0.3776</span>  <span class="stres">  0.1229</span>  <span class="stres"> -0.1379</span>  <span class="stres">  0.3982</span>  <span class="stres">  0.2453</span> 
            e2_2 | <span class="stres">  0.6138</span>  <span class="stres">  0.0824</span>  <span class="stres"> -0.4244</span>  <span class="stres">  0.1215</span>  <span class="stres"> -0.4364</span>  <span class="stres"> -0.4291</span>  <span class="stres">  0.0518</span>  <span class="stres">  0.1560</span>  <span class="stres">  0.1412</span> 
            e2_3 | <span class="stres">  0.5021</span>  <span class="stres">  0.3976</span>  <span class="stres"> -0.3064</span>  <span class="stres"> -0.3957</span>  <span class="stres">  0.4371</span>  <span class="stres"> -0.1734</span>  <span class="stres"> -0.0107</span>  <span class="stres"> -0.3415</span>  <span class="stres"> -0.0399</span> 
            e2_4 | <span class="stres">  0.1427</span>  <span class="stres">  0.7142</span>  <span class="stres">  0.1742</span>  <span class="stres">  0.0839</span>  <span class="stres"> -0.0647</span>  <span class="stres">  0.0273</span>  <span class="stres">  0.5285</span>  <span class="stres">  0.0914</span>  <span class="stres"> -0.3735</span> 
            e2_5 | <span class="stres">  0.5715</span>  <span class="stres">  0.2900</span>  <span class="stres">  0.2967</span>  <span class="stres"> -0.4790</span>  <span class="stres"> -0.2502</span>  <span class="stres">  0.3444</span>  <span class="stres"> -0.0729</span>  <span class="stres">  0.1722</span>  <span class="stres">  0.2358</span> 
            e2_6 | <span class="stres">  0.5100</span>  <span class="stres"> -0.2595</span>  <span class="stres">  0.6018</span>  <span class="stres">  0.0851</span>  <span class="stres">  0.2976</span>  <span class="stres"> -0.4173</span>  <span class="stres"> -0.0648</span>  <span class="stres">  0.1904</span>  <span class="stres"> -0.0022</span> 
            e2_7 | <span class="stres">  0.5802</span>  <span class="stres"> -0.3964</span>  <span class="stres"> -0.0154</span>  <span class="stres">  0.3444</span>  <span class="stres">  0.1451</span>  <span class="stres">  0.2920</span>  <span class="stres">  0.3723</span>  <span class="stres"> -0.2228</span>  <span class="stres">  0.3046</span> 
            e2_8 | <span class="stres">  0.0467</span>  <span class="stres">  0.6795</span>  <span class="stres">  0.3050</span>  <span class="stres">  0.3393</span>  <span class="stres"> -0.2121</span>  <span class="stres"> -0.0505</span>  <span class="stres"> -0.2922</span>  <span class="stres"> -0.4310</span>  <span class="stres">  0.0964</span> 
            e2_9 | <span class="stres">  0.6918</span>  <span class="stres"> -0.1965</span>  <span class="stres"> -0.1555</span>  <span class="stres">  0.2139</span>  <span class="stres">  0.0039</span>  <span class="stres">  0.2958</span>  <span class="stres"> -0.3466</span>  <span class="stres">  0.0668</span>  <span class="stres"> -0.4481</span> 
    --------------------------------------------------------------------------------------------------------

    ----------------------------
        Variable |   Uniqueness 
    -------------+--------------
            e2_1 |  <span class="stres">    0.0000</span>  
            e2_2 |  <span class="stres">    0.0000</span>  
            e2_3 |  <span class="stres">    0.0000</span>  
            e2_4 |  <span class="stres">   -0.0000</span>  
            e2_5 |  <span class="stres">    0.0000</span>  
            e2_6 |  <span class="stres">   -0.0000</span>  
            e2_7 |  <span class="stres">   -0.0000</span>  
            e2_8 |  <span class="stres">    0.0000</span>  
            e2_9 |  <span class="stres">   -0.0000</span>  
    ----------------------------

<span class="stinp">. factor e2_1 e2_2 e2_3 e2_4 e2_5 e2_6 e2_7 e2_9, pcf mineigen(0)        </span>
(obs=1,997)

Factor analysis/correlation                      Number of obs    = <span class="stres">     1,997</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       8</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">      28</span>

<span class="stres">    </span>Beware: solution is a Heywood case
            (i.e., invalid or boundary values of uniqueness)

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      2.05620      0.39007            0.2570       0.2570</span>
        Factor2  |<span class="stres">      1.66612      0.77964            0.2083       0.4653</span>
        Factor3  |<span class="stres">      0.88649      0.13000            0.1108       0.5761</span>
        Factor4  |<span class="stres">      0.75648      0.04040            0.0946       0.6707</span>
        Factor5  |<span class="stres">      0.71608      0.01972            0.0895       0.7602</span>
        Factor6  |<span class="stres">      0.69636      0.05554            0.0870       0.8472</span>
        Factor7  |<span class="stres">      0.64082      0.05939            0.0801       0.9273</span>
        Factor8  |<span class="stres">      0.58144            .            0.0727       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">28</span>) =<span class="stres"> 1697.06</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Factor loadings (pattern matrix) and unique variances

    ----------------------------------------------------------------------------------------------
        Variable |  Factor1   Factor2   Factor3   Factor4   Factor5   Factor6   Factor7   Factor8 
    -------------+--------------------------------------------------------------------------------
            e2_1 | <span class="stres"> -0.1103</span>  <span class="stres">  0.7181</span>  <span class="stres"> -0.1373</span>  <span class="stres">  0.4904</span>  <span class="stres">  0.0053</span>  <span class="stres"> -0.1090</span>  <span class="stres">  0.3287</span>  <span class="stres">  0.3047</span> 
            e2_2 | <span class="stres">  0.6080</span>  <span class="stres">  0.1390</span>  <span class="stres"> -0.4697</span>  <span class="stres"> -0.2430</span>  <span class="stres">  0.2457</span>  <span class="stres">  0.4864</span>  <span class="stres">  0.0941</span>  <span class="stres">  0.1594</span> 
            e2_3 | <span class="stres">  0.4802</span>  <span class="stres">  0.4946</span>  <span class="stres"> -0.1457</span>  <span class="stres"> -0.0300</span>  <span class="stres"> -0.6520</span>  <span class="stres">  0.0242</span>  <span class="stres"> -0.2623</span>  <span class="stres"> -0.0903</span> 
            e2_4 | <span class="stres">  0.1048</span>  <span class="stres">  0.7247</span>  <span class="stres">  0.2630</span>  <span class="stres">  0.1203</span>  <span class="stres">  0.4062</span>  <span class="stres">  0.1186</span>  <span class="stres"> -0.2980</span>  <span class="stres"> -0.3350</span> 
            e2_5 | <span class="stres">  0.5556</span>  <span class="stres">  0.3217</span>  <span class="stres">  0.4178</span>  <span class="stres"> -0.4582</span>  <span class="stres">  0.0804</span>  <span class="stres"> -0.3357</span>  <span class="stres">  0.1193</span>  <span class="stres">  0.2644</span> 
            e2_6 | <span class="stres">  0.5216</span>  <span class="stres"> -0.2915</span>  <span class="stres">  0.5689</span>  <span class="stres">  0.3049</span>  <span class="stres"> -0.1501</span>  <span class="stres">  0.4101</span>  <span class="stres">  0.1871</span>  <span class="stres">  0.0257</span> 
            e2_7 | <span class="stres">  0.6005</span>  <span class="stres"> -0.3808</span>  <span class="stres"> -0.1067</span>  <span class="stres">  0.3500</span>  <span class="stres">  0.1788</span>  <span class="stres"> -0.2308</span>  <span class="stres"> -0.4465</span>  <span class="stres">  0.2756</span> 
            e2_9 | <span class="stres">  0.7010</span>  <span class="stres"> -0.1667</span>  <span class="stres"> -0.2167</span>  <span class="stres">  0.1270</span>  <span class="stres">  0.0683</span>  <span class="stres"> -0.3147</span>  <span class="stres">  0.3431</span>  <span class="stres"> -0.4430</span> 
    ----------------------------------------------------------------------------------------------

    ----------------------------
        Variable |   Uniqueness 
    -------------+--------------
            e2_1 |  <span class="stres">   -0.0000</span>  
            e2_2 |  <span class="stres">   -0.0000</span>  
            e2_3 |  <span class="stres">    0.0000</span>  
            e2_4 |  <span class="stres">   -0.0000</span>  
            e2_5 |  <span class="stres">    0.0000</span>  
            e2_6 |  <span class="stres">   -0.0000</span>  
            e2_7 |  <span class="stres">   -0.0000</span>  
            e2_9 |  <span class="stres">   -0.0000</span>  
    ----------------------------

<span class="stinp">. factor e2_1 e2_3 e2_4 e2_5 e2_6 e2_7 e2_9, pcf mineigen(0)</span>
(obs=1,998)

Factor analysis/correlation                      Number of obs    = <span class="stres">     1,998</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       7</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">      21</span>

<span class="stres">    </span>Beware: solution is a Heywood case
            (i.e., invalid or boundary values of uniqueness)

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.83956      0.19735            0.2628       0.2628</span>
        Factor2  |<span class="stres">      1.64221      0.81302            0.2346       0.4974</span>
        Factor3  |<span class="stres">      0.82920      0.08273            0.1185       0.6159</span>
        Factor4  |<span class="stres">      0.74647      0.03480            0.1066       0.7225</span>
        Factor5  |<span class="stres">      0.71167      0.06985            0.1017       0.8242</span>
        Factor6  |<span class="stres">      0.64182      0.05276            0.0917       0.9158</span>
        Factor7  |<span class="stres">      0.58906            .            0.0842       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">21</span>) =<span class="stres"> 1370.31</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Factor loadings (pattern matrix) and unique variances

    ---------------------------------------------------------------------------------------------------
        Variable |  Factor1   Factor2   Factor3   Factor4   Factor5   Factor6   Factor7 |   Uniqueness 
    -------------+----------------------------------------------------------------------+--------------
            e2_1 | <span class="stres"> -0.2948</span>  <span class="stres">  0.6647</span>  <span class="stres">  0.2863</span>  <span class="stres">  0.3996</span>  <span class="stres">  0.0058</span>  <span class="stres">  0.3674</span>  <span class="stres">  0.3076</span> |  <span class="stres">   -0.0000</span>  
            e2_3 | <span class="stres">  0.3352</span>  <span class="stres">  0.6089</span>  <span class="stres">  0.2998</span>  <span class="stres"> -0.2556</span>  <span class="stres"> -0.5515</span>  <span class="stres"> -0.2372</span>  <span class="stres"> -0.0365</span> |  <span class="stres">   -0.0000</span>  
            e2_4 | <span class="stres"> -0.0746</span>  <span class="stres">  0.7370</span>  <span class="stres"> -0.2600</span>  <span class="stres">  0.2751</span>  <span class="stres">  0.2820</span>  <span class="stres"> -0.3419</span>  <span class="stres"> -0.3340</span> |  <span class="stres">    0.0000</span>  
            e2_5 | <span class="stres">  0.4891</span>  <span class="stres">  0.4836</span>  <span class="stres"> -0.3875</span>  <span class="stres"> -0.4419</span>  <span class="stres">  0.2566</span>  <span class="stres">  0.1691</span>  <span class="stres">  0.2952</span> |  <span class="stres">   -0.0000</span>  
            e2_6 | <span class="stres">  0.6296</span>  <span class="stres"> -0.1104</span>  <span class="stres"> -0.4789</span>  <span class="stres">  0.4288</span>  <span class="stres"> -0.3917</span>  <span class="stres">  0.1570</span>  <span class="stres"> -0.0101</span> |  <span class="stres">   -0.0000</span>  
            e2_7 | <span class="stres">  0.6921</span>  <span class="stres"> -0.1998</span>  <span class="stres">  0.2794</span>  <span class="stres">  0.2579</span>  <span class="stres">  0.2442</span>  <span class="stres"> -0.3952</span>  <span class="stres">  0.3474</span> |  <span class="stres">   -0.0000</span>  
            e2_9 | <span class="stres">  0.7212</span>  <span class="stres">  0.0251</span>  <span class="stres">  0.3636</span>  <span class="stres"> -0.0115</span>  <span class="stres">  0.2215</span>  <span class="stres">  0.3525</span>  <span class="stres"> -0.4167</span> |  <span class="stres">   -0.0000</span>  
    ---------------------------------------------------------------------------------------------------
</samp></pre>
                <p>到此，可能需要丟掉幾個變項，要丟掉的變項如下：</p>
                <ul>
                    <li>e2_2 因為命運不好</li>
                    <li>e2_5 因為身體不好</li>
                    <li>e2_8 因為他(她)不願意工作</li>
                </ul>
                <p>但是也可以保留e2_2，因為這涉及這個模型潛在因子的解釋。</p>
                <p>以上各次測試，均指出似乎有兩個潛在因子，可以用以下方法來看：</p>
                <ol type="i">
                    <li>碎石圖（scree plot）：主要查看在 1 以上有幾點，就代表有幾個潛在因子</li>
                    <pre id="stlog-6" class="stlog"><samp><span class="stinp">. screeplot, scheme(s1color) yline(1) <span class="stcmt">///</span>
&gt;          xaxis (1 2) yaxis (1 2)   <span class="stcmt">///</span>
&gt;          ylabel(, axis(1) nogrid)  <span class="stcmt">///</span>
&gt;          ylabel(, axis(2) nolabel) <span class="stcmt">///</span>
&gt;          xlabel(, axis(2) nolabel) <span class="stcmt">///</span>
&gt;          xsize(4) <span class="stcmt">///</span>
&gt;          xtitle("", axis(2)) <span class="stcmt">///</span>
&gt;          ytitle("", axis(2))</span>
</samp></pre>
                    <div class="img-block"><img id="screePlot" src="" alt=""></div>
                    <li>平行分析</li>
                    <pre id="stlog-7" class="stlog"><samp><span class="stinp">. factor e2_1 e2_2 e2_3 e2_4  e2_6 e2_7  e2_9, pcf mineigen(0)</span>
(obs=1,998)

Factor analysis/correlation                      Number of obs    = <span class="stres">     1,998</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       7</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">      21</span>

<span class="stres">    </span>Beware: solution is a Heywood case
            (i.e., invalid or boundary values of uniqueness)

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.89911      0.32722            0.2713       0.2713</span>
        Factor2  |<span class="stres">      1.57189      0.72761            0.2246       0.4959</span>
        Factor3  |<span class="stres">      0.84428      0.12298            0.1206       0.6165</span>
        Factor4  |<span class="stres">      0.72131      0.00806            0.1030       0.7195</span>
        Factor5  |<span class="stres">      0.71325      0.06779            0.1019       0.8214</span>
        Factor6  |<span class="stres">      0.64546      0.04075            0.0922       0.9136</span>
        Factor7  |<span class="stres">      0.60471            .            0.0864       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">21</span>) =<span class="stres"> 1358.54</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Factor loadings (pattern matrix) and unique variances

    ---------------------------------------------------------------------------------------------------
        Variable |  Factor1   Factor2   Factor3   Factor4   Factor5   Factor6   Factor7 |   Uniqueness 
    -------------+----------------------------------------------------------------------+--------------
            e2_1 | <span class="stres"> -0.3255</span>  <span class="stres">  0.6750</span>  <span class="stres">  0.0585</span>  <span class="stres">  0.3773</span>  <span class="stres">  0.2359</span>  <span class="stres">  0.4049</span>  <span class="stres">  0.2706</span> |  <span class="stres">    0.0000</span>  
            e2_2 | <span class="stres">  0.5526</span>  <span class="stres">  0.3845</span>  <span class="stres"> -0.4215</span>  <span class="stres"> -0.1909</span>  <span class="stres"> -0.4956</span>  <span class="stres">  0.1998</span>  <span class="stres">  0.2173</span> |  <span class="stres">    0.0000</span>  
            e2_3 | <span class="stres">  0.2986</span>  <span class="stres">  0.6550</span>  <span class="stres"> -0.0428</span>  <span class="stres"> -0.4576</span>  <span class="stres">  0.4636</span>  <span class="stres"> -0.2356</span>  <span class="stres">  0.0150</span> |  <span class="stres">   -0.0000</span>  
            e2_4 | <span class="stres"> -0.1539</span>  <span class="stres">  0.7068</span>  <span class="stres">  0.3558</span>  <span class="stres">  0.1675</span>  <span class="stres"> -0.4008</span>  <span class="stres"> -0.3292</span>  <span class="stres"> -0.2303</span> |  <span class="stres">    0.0000</span>  
            e2_6 | <span class="stres">  0.5801</span>  <span class="stres"> -0.1153</span>  <span class="stres">  0.7152</span>  <span class="stres"> -0.2065</span>  <span class="stres"> -0.0535</span>  <span class="stres">  0.2892</span>  <span class="stres">  0.0976</span> |  <span class="stres">    0.0000</span>  
            e2_7 | <span class="stres">  0.7117</span>  <span class="stres"> -0.1251</span>  <span class="stres">  0.0208</span>  <span class="stres">  0.4265</span>  <span class="stres">  0.0933</span>  <span class="stres"> -0.3893</span>  <span class="stres">  0.3677</span> |  <span class="stres">   -0.0000</span>  
            e2_9 | <span class="stres">  0.7294</span>  <span class="stres">  0.1046</span>  <span class="stres"> -0.1511</span>  <span class="stres">  0.2837</span>  <span class="stres">  0.1579</span>  <span class="stres">  0.2062</span>  <span class="stres"> -0.5351</span> |  <span class="stres">   -0.0000</span>  
    ---------------------------------------------------------------------------------------------------

<span class="stinp">. fapara, seed(123456789)   <span class="stcmt">/*parallel analysis用於瞭解有幾個潛在因子*/</span></span>

PA -- Parallel Analysis for Factor Analysis -- N = 1998
PA Eigenvalues Averaged Over 1 Replication
         FA         PA          Dif
  1.   <span class="stres">1.899109    .0717983   1.827311 </span> 
  2.   <span class="stres">1.571891    .0518209    1.52007 </span> 
  3.   <span class="stres">.8442826    .0469874   .7972951 </span> 
  4.   <span class="stres">.7213058    .0103113   .7109945 </span> 
  5.   <span class="stres">.7132482   -.0395351   .7527833 </span> 
  6.   <span class="stres">.6454573   -.0541409   .6995983 </span> 
  7.   <span class="stres">.6047057   -.0679308   .6726365 </span> 
</samp></pre>
                    <li>其他檢查方法</li>
                    <pre id="stlog-8" class="stlog"><samp><span class="stinp">. estat kmo</span>

Kaiser-Meyer-Olkin measure of sampling adequacy

    -----------------------
        Variable |     kmo 
    -------------+---------
            e2_1 | <span class="stres"> 0.6180</span> 
            e2_2 | <span class="stres"> 0.6883</span> 
            e2_3 | <span class="stres"> 0.6473</span> 
            e2_4 | <span class="stres"> 0.6092</span> 
            e2_6 | <span class="stres"> 0.7215</span> 
            e2_7 | <span class="stres"> 0.6916</span> 
            e2_9 | <span class="stres"> 0.6777</span> 
    -------------+---------
         Overall | <span class="stres"> 0.6660</span> 
    -----------------------
</samp></pre>
                    <p>kmo的評量標準</p>
                    <ul>
                        <li>0.00 to 0.49 unacceptable 有問題</li>
                        <li>0.50 to 0.59 miserable 還是不太好</li>
                        <li>0.60 to 0.69 mediocre 差強人意</li>
                        <li>0.70 to 0.79 middling 還好</li>
                        <li>0.80 to 0.89 meritorious 很不錯</li>
                        <li>0.90 to 1.00 marvelous 非常好</li>
                    </ul>
                    <p><a href="https://faculty.chass.ncsu.edu/garson/PA765/index.htm">使用KMO的目的：</a></p>
                    <p>測試哪些變項因多元共線性而須從模型中剔除，KMO整體（overall）必須高於0.6，若不足0.6，則剔除kmo值最低的一項，直到整體高於0.6（有些研究者也會使用0.5作為剔除標準）。</p>
                </ol>
                <p>找出潛在變量</p>
                <pre id="stlog-9" class="stlog"><samp><span class="stinp">. factor e2_1 e2_2, pcf</span>
(obs=2,014)

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,014</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       1</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">       1</span>

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.00576      0.01152            0.5029       0.5029</span>
        Factor2  |<span class="stres">      0.99424            .            0.4971       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">1</span>)  =<span class="stres">    0.07</span> Prob&gt;chi2 =<span class="stres"> 0.7961</span>

Factor loadings (pattern matrix) and unique variances

    ---------------------------------------
        Variable |  Factor1 |   Uniqueness 
    -------------+----------+--------------
            e2_1 | <span class="stres">  0.7091</span> |  <span class="stres">    0.4971</span>  
            e2_2 | <span class="stres">  0.7091</span> |  <span class="stres">    0.4971</span>  
    ---------------------------------------

<span class="stinp">. estat kmo</span>

Kaiser-Meyer-Olkin measure of sampling adequacy

    -----------------------
        Variable |     kmo 
    -------------+---------
            e2_1 | <span class="stres"> 0.5000</span> 
            e2_2 | <span class="stres"> 0.5000</span> 
    -------------+---------
         Overall | <span class="stres"> 0.5000</span> 
    -----------------------

<span class="stinp">. rotate, blank(.4)   <span class="stcmt">/* &lt;0.4，空白 */</span></span>

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,014</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       1</span>
<span class="stres">    </span>Rotation: orthogonal varimax (Kaiser off)    Number of params =   <span class="stres">       1</span>

    --------------------------------------------------------------------------
         Factor  |     Variance   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.00576            .            0.5029       0.5029</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">1</span>)  =<span class="stres">    0.07</span> Prob&gt;chi2 =<span class="stres"> 0.7961</span>

Rotated factor loadings (pattern matrix) and unique variances

    ---------------------------------------
        Variable |  Factor1 |   Uniqueness 
    -------------+----------+--------------
            e2_1 | <span class="stres">  0.7091</span> |  <span class="stres">    0.4971</span>  
            e2_2 | <span class="stres">  0.7091</span> |  <span class="stres">    0.4971</span>  
    ---------------------------------------
    (blanks represent abs(loading)&lt;<span class="stres">.4</span>)

Factor rotation matrix

    -----------------------
                 | Factor1 
    -------------+---------
         Factor1 | <span class="stres"> 1.0000</span> 
    -----------------------

<span class="stinp">. </span>
<span class="stinp">. factor e2_1 e2_2 e2_3, pcf</span>
(obs=2,008)

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,008</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       1</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">       3</span>

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.31474      0.32072            0.4382       0.4382</span>
        Factor2  |<span class="stres">      0.99402      0.30277            0.3313       0.7696</span>
        Factor3  |<span class="stres">      0.69125            .            0.2304       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">3</span>)  =<span class="stres">  203.87</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Factor loadings (pattern matrix) and unique variances

    ---------------------------------------
        Variable |  Factor1 |   Uniqueness 
    -------------+----------+--------------
            e2_1 | <span class="stres">  0.4924</span> |  <span class="stres">    0.7575</span>  
            e2_2 | <span class="stres">  0.6490</span> |  <span class="stres">    0.5788</span>  
            e2_3 | <span class="stres">  0.8069</span> |  <span class="stres">    0.3490</span>  
    ---------------------------------------

<span class="stinp">. estat kmo</span>

Kaiser-Meyer-Olkin measure of sampling adequacy

    -----------------------
        Variable |     kmo 
    -------------+---------
            e2_1 | <span class="stres"> 0.4764</span> 
            e2_2 | <span class="stres"> 0.4866</span> 
            e2_3 | <span class="stres"> 0.4915</span> 
    -------------+---------
         Overall | <span class="stres"> 0.4872</span> 
    -----------------------

<span class="stinp">. rotate, blank(.4)</span>

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,008</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       1</span>
<span class="stres">    </span>Rotation: orthogonal varimax (Kaiser off)    Number of params =   <span class="stres">       3</span>

    --------------------------------------------------------------------------
         Factor  |     Variance   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.31474            .            0.4382       0.4382</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">3</span>)  =<span class="stres">  203.87</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Rotated factor loadings (pattern matrix) and unique variances

    ---------------------------------------
        Variable |  Factor1 |   Uniqueness 
    -------------+----------+--------------
            e2_1 | <span class="stres">  0.4924</span> |  <span class="stres">    0.7575</span>  
            e2_2 | <span class="stres">  0.6490</span> |  <span class="stres">    0.5788</span>  
            e2_3 | <span class="stres">  0.8069</span> |  <span class="stres">    0.3490</span>  
    ---------------------------------------
    (blanks represent abs(loading)&lt;<span class="stres">.4</span>)

Factor rotation matrix

    -----------------------
                 | Factor1 
    -------------+---------
         Factor1 | <span class="stres"> 1.0000</span> 
    -----------------------

<span class="stinp">. </span>
<span class="stinp">. factor e2_1 e2_2 e2_3 e2_4, pcf</span>
(obs=2,007)

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,007</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">       6</span>

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.55187      0.48017            0.3880       0.3880</span>
        Factor2  |<span class="stres">      1.07170      0.35861            0.2679       0.6559</span>
        Factor3  |<span class="stres">      0.71309      0.04976            0.1783       0.8342</span>
        Factor4  |<span class="stres">      0.66333            .            0.1658       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">6</span>)  =<span class="stres">  480.98</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">  0.6430</span>  <span class="stres"> -0.5110</span> |  <span class="stres">    0.3254</span>  
            e2_2 | <span class="stres">  0.4242</span>  <span class="stres">  0.7640</span> |  <span class="stres">    0.2364</span>  
            e2_3 | <span class="stres">  0.6808</span>  <span class="stres">  0.3455</span> |  <span class="stres">    0.4171</span>  
            e2_4 | <span class="stres">  0.7036</span>  <span class="stres"> -0.3279</span> |  <span class="stres">    0.3975</span>  
    -------------------------------------------------

<span class="stinp">. estat kmo</span>

Kaiser-Meyer-Olkin measure of sampling adequacy

    -----------------------
        Variable |     kmo 
    -------------+---------
            e2_1 | <span class="stres"> 0.5584</span> 
            e2_2 | <span class="stres"> 0.5199</span> 
            e2_3 | <span class="stres"> 0.5894</span> 
            e2_4 | <span class="stres"> 0.5839</span> 
    -------------+---------
         Overall | <span class="stres"> 0.5687</span> 
    -----------------------

<span class="stinp">. rotate, blank(.4)</span>

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,007</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: orthogonal varimax (Kaiser off)    Number of params =   <span class="stres">       6</span>

    --------------------------------------------------------------------------
         Factor  |     Variance   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.39475      0.16592            0.3487       0.3487</span>
        Factor2  |<span class="stres">      1.22883            .            0.3072       0.6559</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">6</span>)  =<span class="stres">  480.98</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Rotated factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">  0.8197</span>  <span class="stres">        </span> |  <span class="stres">    0.3254</span>  
            e2_2 | <span class="stres">        </span>  <span class="stres">  0.8693</span> |  <span class="stres">    0.2364</span>  
            e2_3 | <span class="stres">        </span>  <span class="stres">  0.6729</span> |  <span class="stres">    0.4171</span>  
            e2_4 | <span class="stres">  0.7647</span>  <span class="stres">        </span> |  <span class="stres">    0.3975</span>  
    -------------------------------------------------
    (blanks represent abs(loading)&lt;<span class="stres">.4</span>)

Factor rotation matrix

    --------------------------------
                 | Factor1  Factor2 
    -------------+------------------
         Factor1 | <span class="stres"> 0.8202</span>  <span class="stres"> 0.5720</span> 
         Factor2 | <span class="stres">-0.5720</span>  <span class="stres"> 0.8202</span> 
    --------------------------------

<span class="stinp">. </span>
<span class="stinp">. factor e2_1 e2_2 e2_3 e2_4 e2_5, pcf</span>
(obs=2,005)

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,005</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">       9</span>

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.73690      0.60898            0.3474       0.3474</span>
        Factor2  |<span class="stres">      1.12792      0.32273            0.2256       0.5730</span>
        Factor3  |<span class="stres">      0.80519      0.09251            0.1610       0.7340</span>
        Factor4  |<span class="stres">      0.71268      0.09536            0.1425       0.8765</span>
        Factor5  |<span class="stres">      0.61732            .            0.1235       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">10</span>) =<span class="stres">  731.51</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">  0.4946</span>  <span class="stres"> -0.6757</span> |  <span class="stres">    0.2988</span>  
            e2_2 | <span class="stres">  0.4834</span>  <span class="stres">  0.5827</span> |  <span class="stres">    0.4268</span>  
            e2_3 | <span class="stres">  0.6909</span>  <span class="stres">  0.1678</span> |  <span class="stres">    0.4945</span>  
            e2_4 | <span class="stres">  0.6471</span>  <span class="stres"> -0.4247</span> |  <span class="stres">    0.4009</span>  
            e2_5 | <span class="stres">  0.6020</span>  <span class="stres">  0.3511</span> |  <span class="stres">    0.5143</span>  
    -------------------------------------------------

<span class="stinp">. estat kmo</span>

Kaiser-Meyer-Olkin measure of sampling adequacy

    -----------------------
        Variable |     kmo 
    -------------+---------
            e2_1 | <span class="stres"> 0.5481</span> 
            e2_2 | <span class="stres"> 0.6289</span> 
            e2_3 | <span class="stres"> 0.6506</span> 
            e2_4 | <span class="stres"> 0.6062</span> 
            e2_5 | <span class="stres"> 0.6359</span> 
    -------------+---------
         Overall | <span class="stres"> 0.6146</span> 
    -----------------------

<span class="stinp">. rotate, blank(.4)</span>

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,005</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: orthogonal varimax (Kaiser off)    Number of params =   <span class="stres">       9</span>

    --------------------------------------------------------------------------
         Factor  |     Variance   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.47831      0.09180            0.2957       0.2957</span>
        Factor2  |<span class="stres">      1.38651            .            0.2773       0.5730</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">10</span>) =<span class="stres">  731.51</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Rotated factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">        </span>  <span class="stres">  0.8348</span> |  <span class="stres">    0.2988</span>  
            e2_2 | <span class="stres">  0.7464</span>  <span class="stres">        </span> |  <span class="stres">    0.4268</span>  
            e2_3 | <span class="stres">  0.6334</span>  <span class="stres">        </span> |  <span class="stres">    0.4945</span>  
            e2_4 | <span class="stres">        </span>  <span class="stres">  0.7438</span> |  <span class="stres">    0.4009</span>  
            e2_5 | <span class="stres">  0.6855</span>  <span class="stres">        </span> |  <span class="stres">    0.5143</span>  
    -------------------------------------------------
    (blanks represent abs(loading)&lt;<span class="stres">.4</span>)

Factor rotation matrix

    --------------------------------
                 | Factor1  Factor2 
    -------------+------------------
         Factor1 | <span class="stres"> 0.7585</span>  <span class="stres">       </span> 
         Factor2 | <span class="stres"> 0.6516</span>  <span class="stres">-0.7585</span> 
    --------------------------------

<span class="stinp">. </span>
<span class="stinp">. factor e2_1 e2_2 e2_3 e2_4 e2_5 e2_6, pcf</span>
(obs=2,004)

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,004</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">      11</span>

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.74560      0.41256            0.2909       0.2909</span>
        Factor2  |<span class="stres">      1.33304      0.47173            0.2222       0.5131</span>
        Factor3  |<span class="stres">      0.86131      0.12788            0.1436       0.6567</span>
        Factor4  |<span class="stres">      0.73343      0.02377            0.1222       0.7789</span>
        Factor5  |<span class="stres">      0.70967      0.09273            0.1183       0.8972</span>
        Factor6  |<span class="stres">      0.61694            .            0.1028       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">15</span>) =<span class="stres">  881.90</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">  0.4473</span>  <span class="stres"> -0.6582</span> |  <span class="stres">    0.3667</span>  
            e2_2 | <span class="stres">  0.5079</span>  <span class="stres">  0.3805</span> |  <span class="stres">    0.5973</span>  
            e2_3 | <span class="stres">  0.6958</span>  <span class="stres">  0.0623</span> |  <span class="stres">    0.5120</span>  
            e2_4 | <span class="stres">  0.6216</span>  <span class="stres"> -0.3930</span> |  <span class="stres">    0.4591</span>  
            e2_5 | <span class="stres">  0.6283</span>  <span class="stres">  0.3132</span> |  <span class="stres">    0.5072</span>  
            e2_6 | <span class="stres">  0.1493</span>  <span class="stres">  0.7061</span> |  <span class="stres">    0.4791</span>  
    -------------------------------------------------

<span class="stinp">. estat kmo</span>

Kaiser-Meyer-Olkin measure of sampling adequacy

    -----------------------
        Variable |     kmo 
    -------------+---------
            e2_1 | <span class="stres"> 0.5567</span> 
            e2_2 | <span class="stres"> 0.6587</span> 
            e2_3 | <span class="stres"> 0.6585</span> 
            e2_4 | <span class="stres"> 0.6142</span> 
            e2_5 | <span class="stres"> 0.6392</span> 
            e2_6 | <span class="stres"> 0.5661</span> 
    -------------+---------
         Overall | <span class="stres"> 0.6182</span> 
    -----------------------

<span class="stinp">. rotate, blank(.4)</span>

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,004</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: orthogonal varimax (Kaiser off)    Number of params =   <span class="stres">      11</span>

    --------------------------------------------------------------------------
         Factor  |     Variance   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.60926      0.13987            0.2682       0.2682</span>
        Factor2  |<span class="stres">      1.46939            .            0.2449       0.5131</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">15</span>) =<span class="stres">  881.90</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Rotated factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">        </span>  <span class="stres">  0.7957</span> |  <span class="stres">    0.3667</span>  
            e2_2 | <span class="stres">  0.6343</span>  <span class="stres">        </span> |  <span class="stres">    0.5973</span>  
            e2_3 | <span class="stres">  0.6051</span>  <span class="stres">        </span> |  <span class="stres">    0.5120</span>  
            e2_4 | <span class="stres">        </span>  <span class="stres">  0.6790</span> |  <span class="stres">    0.4591</span>  
            e2_5 | <span class="stres">  0.6941</span>  <span class="stres">        </span> |  <span class="stres">    0.5072</span>  
            e2_6 | <span class="stres">  0.5280</span>  <span class="stres"> -0.4920</span> |  <span class="stres">    0.4791</span>  
    -------------------------------------------------
    (blanks represent abs(loading)&lt;<span class="stres">.4</span>)

Factor rotation matrix

    --------------------------------
                 | Factor1  Factor2 
    -------------+------------------
         Factor1 | <span class="stres"> 0.8182</span>  <span class="stres">       </span> 
         Factor2 | <span class="stres"> 0.5749</span>  <span class="stres">-0.8182</span> 
    --------------------------------

<span class="stinp">. </span>
<span class="stinp">. factor e2_1 e2_2 e2_3 e2_4 e2_5 e2_7, pcf</span>
(obs=1,997)

Factor analysis/correlation                      Number of obs    = <span class="stres">     1,997</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">      11</span>

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.74138      0.34157            0.2902       0.2902</span>
        Factor2  |<span class="stres">      1.39981      0.59230            0.2333       0.5235</span>
        Factor3  |<span class="stres">      0.80750      0.08394            0.1346       0.6581</span>
        Factor4  |<span class="stres">      0.72357      0.01290            0.1206       0.7787</span>
        Factor5  |<span class="stres">      0.71066      0.09359            0.1184       0.8972</span>
        Factor6  |<span class="stres">      0.61707            .            0.1028       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">15</span>) =<span class="stres">  938.60</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">  0.4620</span>  <span class="stres"> -0.6079</span> |  <span class="stres">    0.4170</span>  
            e2_2 | <span class="stres">  0.5125</span>  <span class="stres">  0.4812</span> |  <span class="stres">    0.5058</span>  
            e2_3 | <span class="stres">  0.6974</span>  <span class="stres">  0.0953</span> |  <span class="stres">    0.5046</span>  
            e2_4 | <span class="stres">  0.6244</span>  <span class="stres"> -0.4122</span> |  <span class="stres">    0.4402</span>  
            e2_5 | <span class="stres">  0.6155</span>  <span class="stres">  0.2435</span> |  <span class="stres">    0.5618</span>  
            e2_7 | <span class="stres">  0.1006</span>  <span class="stres">  0.7487</span> |  <span class="stres">    0.4294</span>  
    -------------------------------------------------

<span class="stinp">. estat kmo</span>

Kaiser-Meyer-Olkin measure of sampling adequacy

    -----------------------
        Variable |     kmo 
    -------------+---------
            e2_1 | <span class="stres"> 0.5782</span> 
            e2_2 | <span class="stres"> 0.6391</span> 
            e2_3 | <span class="stres"> 0.6602</span> 
            e2_4 | <span class="stres"> 0.6166</span> 
            e2_5 | <span class="stres"> 0.6506</span> 
            e2_7 | <span class="stres"> 0.5709</span> 
    -------------+---------
         Overall | <span class="stres"> 0.6215</span> 
    -----------------------

<span class="stinp">. rotate, blank(.4)</span>

Factor analysis/correlation                      Number of obs    = <span class="stres">     1,997</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: orthogonal varimax (Kaiser off)    Number of params =   <span class="stres">      11</span>

    --------------------------------------------------------------------------
         Factor  |     Variance   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.60951      0.07783            0.2683       0.2683</span>
        Factor2  |<span class="stres">      1.53168            .            0.2553       0.5235</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">15</span>) =<span class="stres">  938.60</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Rotated factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">        </span>  <span class="stres">  0.7634</span> |  <span class="stres">    0.4170</span>  
            e2_2 | <span class="stres">  0.7005</span>  <span class="stres">        </span> |  <span class="stres">    0.5058</span>  
            e2_3 | <span class="stres">  0.6056</span>  <span class="stres">        </span> |  <span class="stres">    0.5046</span>  
            e2_4 | <span class="stres">        </span>  <span class="stres">  0.7110</span> |  <span class="stres">    0.4402</span>  
            e2_5 | <span class="stres">  0.6336</span>  <span class="stres">        </span> |  <span class="stres">    0.5618</span>  
            e2_7 | <span class="stres">  0.5440</span>  <span class="stres"> -0.5241</span> |  <span class="stres">    0.4294</span>  
    -------------------------------------------------
    (blanks represent abs(loading)&lt;<span class="stres">.4</span>)

Factor rotation matrix

    --------------------------------
                 | Factor1  Factor2 
    -------------+------------------
         Factor1 | <span class="stres"> 0.7835</span>  <span class="stres">       </span> 
         Factor2 | <span class="stres"> 0.6213</span>  <span class="stres">-0.7835</span> 
    --------------------------------

<span class="stinp">. </span>
<span class="stinp">. factor e2_1 e2_2 e2_3 e2_4 e2_5 e2_8, pcf</span>
(obs=2,003)

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,003</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">      11</span>

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.96003      0.73328            0.3267       0.3267</span>
        Factor2  |<span class="stres">      1.22675      0.40938            0.2045       0.5311</span>
        Factor3  |<span class="stres">      0.81737      0.06897            0.1362       0.6674</span>
        Factor4  |<span class="stres">      0.74840      0.11826            0.1247       0.7921</span>
        Factor5  |<span class="stres">      0.63014      0.01284            0.1050       0.8971</span>
        Factor6  |<span class="stres">      0.61730            .            0.1029       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">15</span>) =<span class="stres"> 1116.80</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">  0.5716</span>  <span class="stres"> -0.4761</span> |  <span class="stres">    0.4466</span>  
            e2_2 | <span class="stres">  0.3593</span>  <span class="stres">  0.6551</span> |  <span class="stres">    0.4417</span>  
            e2_3 | <span class="stres">  0.5880</span>  <span class="stres">  0.3865</span> |  <span class="stres">    0.5049</span>  
            e2_4 | <span class="stres">  0.7032</span>  <span class="stres"> -0.2553</span> |  <span class="stres">    0.4403</span>  
            e2_5 | <span class="stres">  0.5262</span>  <span class="stres">  0.4470</span> |  <span class="stres">    0.5233</span>  
            e2_8 | <span class="stres">  0.6222</span>  <span class="stres"> -0.3957</span> |  <span class="stres">    0.4563</span>  
    -------------------------------------------------

<span class="stinp">. estat kmo</span>

Kaiser-Meyer-Olkin measure of sampling adequacy

    -----------------------
        Variable |     kmo 
    -------------+---------
            e2_1 | <span class="stres"> 0.6542</span> 
            e2_2 | <span class="stres"> 0.6342</span> 
            e2_3 | <span class="stres"> 0.6750</span> 
            e2_4 | <span class="stres"> 0.6867</span> 
            e2_5 | <span class="stres"> 0.6681</span> 
            e2_8 | <span class="stres"> 0.6812</span> 
    -------------+---------
         Overall | <span class="stres"> 0.6707</span> 
    -----------------------

<span class="stinp">. rotate, blank(.4)</span>

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,003</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: orthogonal varimax (Kaiser off)    Number of params =   <span class="stres">      11</span>

    --------------------------------------------------------------------------
         Factor  |     Variance   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.69877      0.21076            0.2831       0.2831</span>
        Factor2  |<span class="stres">      1.48801            .            0.2480       0.5311</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">15</span>) =<span class="stres"> 1116.80</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Rotated factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">  0.7428</span>  <span class="stres">        </span> |  <span class="stres">    0.4466</span>  
            e2_2 | <span class="stres">        </span>  <span class="stres">  0.7401</span> |  <span class="stres">    0.4417</span>  
            e2_3 | <span class="stres">        </span>  <span class="stres">  0.6611</span> |  <span class="stres">    0.5049</span>  
            e2_4 | <span class="stres">  0.7166</span>  <span class="stres">        </span> |  <span class="stres">    0.4403</span>  
            e2_5 | <span class="stres">        </span>  <span class="stres">  0.6727</span> |  <span class="stres">    0.5233</span>  
            e2_8 | <span class="stres">  0.7354</span>  <span class="stres">        </span> |  <span class="stres">    0.4563</span>  
    -------------------------------------------------
    (blanks represent abs(loading)&lt;<span class="stres">.4</span>)

Factor rotation matrix

    --------------------------------
                 | Factor1  Factor2 
    -------------+------------------
         Factor1 | <span class="stres"> 0.8023</span>  <span class="stres"> 0.5969</span> 
         Factor2 | <span class="stres">-0.5969</span>  <span class="stres"> 0.8023</span> 
    --------------------------------

<span class="stinp">. </span>
<span class="stinp">. factor e2_1 e2_2 e2_3 e2_4 e2_5 e2_8 e2_9, pcf</span>
(obs=2,003)

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,003</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">      13</span>

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.98698      0.46855            0.2839       0.2839</span>
        Factor2  |<span class="stres">      1.51843      0.70073            0.2169       0.5008</span>
        Factor3  |<span class="stres">      0.81770      0.06199            0.1168       0.6176</span>
        Factor4  |<span class="stres">      0.75572      0.06347            0.1080       0.7255</span>
        Factor5  |<span class="stres">      0.69224      0.06454            0.0989       0.8244</span>
        Factor6  |<span class="stres">      0.62770      0.02648            0.0897       0.9141</span>
        Factor7  |<span class="stres">      0.60122            .            0.0859       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">21</span>) =<span class="stres"> 1438.58</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">  0.5082</span>  <span class="stres"> -0.4977</span> |  <span class="stres">    0.4940</span>  
            e2_2 | <span class="stres">  0.4402</span>  <span class="stres">  0.5434</span> |  <span class="stres">    0.5109</span>  
            e2_3 | <span class="stres">  0.6231</span>  <span class="stres">  0.2286</span> |  <span class="stres">    0.5595</span>  
            e2_4 | <span class="stres">  0.6547</span>  <span class="stres"> -0.3682</span> |  <span class="stres">    0.4359</span>  
            e2_5 | <span class="stres">  0.5741</span>  <span class="stres">  0.3101</span> |  <span class="stres">    0.5742</span>  
            e2_8 | <span class="stres">  0.5674</span>  <span class="stres"> -0.4375</span> |  <span class="stres">    0.4867</span>  
            e2_9 | <span class="stres">  0.2581</span>  <span class="stres">  0.7071</span> |  <span class="stres">    0.4334</span>  
    -------------------------------------------------

<span class="stinp">. estat kmo</span>

Kaiser-Meyer-Olkin measure of sampling adequacy

    -----------------------
        Variable |     kmo 
    -------------+---------
            e2_1 | <span class="stres"> 0.6647</span> 
            e2_2 | <span class="stres"> 0.6673</span> 
            e2_3 | <span class="stres"> 0.7132</span> 
            e2_4 | <span class="stres"> 0.6773</span> 
            e2_5 | <span class="stres"> 0.6922</span> 
            e2_8 | <span class="stres"> 0.6852</span> 
            e2_9 | <span class="stres"> 0.6088</span> 
    -------------+---------
         Overall | <span class="stres"> 0.6744</span> 
    -----------------------

<span class="stinp">. rotate, blank(.4)</span>

Factor analysis/correlation                      Number of obs    = <span class="stres">     2,003</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: orthogonal varimax (Kaiser off)    Number of params =   <span class="stres">      13</span>

    --------------------------------------------------------------------------
         Factor  |     Variance   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.81112      0.11683            0.2587       0.2587</span>
        Factor2  |<span class="stres">      1.69429            .            0.2420       0.5008</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">21</span>) =<span class="stres"> 1438.58</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Rotated factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">  0.7066</span>  <span class="stres">        </span> |  <span class="stres">    0.4940</span>  
            e2_2 | <span class="stres">        </span>  <span class="stres">  0.6992</span> |  <span class="stres">    0.5109</span>  
            e2_3 | <span class="stres">        </span>  <span class="stres">  0.5624</span> |  <span class="stres">    0.5595</span>  
            e2_4 | <span class="stres">  0.7430</span>  <span class="stres">        </span> |  <span class="stres">    0.4359</span>  
            e2_5 | <span class="stres">        </span>  <span class="stres">  0.5969</span> |  <span class="stres">    0.5742</span>  
            e2_8 | <span class="stres">  0.7165</span>  <span class="stres">        </span> |  <span class="stres">    0.4867</span>  
            e2_9 | <span class="stres">        </span>  <span class="stres">  0.7170</span> |  <span class="stres">    0.4334</span>  
    -------------------------------------------------
    (blanks represent abs(loading)&lt;<span class="stres">.4</span>)

Factor rotation matrix

    --------------------------------
                 | Factor1  Factor2 
    -------------+------------------
         Factor1 | <span class="stres"> 0.7904</span>  <span class="stres"> 0.6126</span> 
         Factor2 | <span class="stres">-0.6126</span>  <span class="stres"> 0.7904</span> 
    --------------------------------

<span class="stinp">. loadingplot</span>

<span class="stinp">. </span>
<span class="stinp">. factor e2_1 e2_2 e2_3 e2_4 e2_6 e2_7 e2_9, pcf mineigen(0) fa(2)</span>
(obs=1,998)

Factor analysis/correlation                      Number of obs    = <span class="stres">     1,998</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: (unrotated)                        Number of params =   <span class="stres">      13</span>

    --------------------------------------------------------------------------
         Factor  |   Eigenvalue   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.89911      0.32722            0.2713       0.2713</span>
        Factor2  |<span class="stres">      1.57189      0.72761            0.2246       0.4959</span>
        Factor3  |<span class="stres">      0.84428      0.12298            0.1206       0.6165</span>
        Factor4  |<span class="stres">      0.72131      0.00806            0.1030       0.7195</span>
        Factor5  |<span class="stres">      0.71325      0.06779            0.1019       0.8214</span>
        Factor6  |<span class="stres">      0.64546      0.04075            0.0922       0.9136</span>
        Factor7  |<span class="stres">      0.60471            .            0.0864       1.0000</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">21</span>) =<span class="stres"> 1358.54</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres"> -0.3255</span>  <span class="stres">  0.6750</span> |  <span class="stres">    0.4385</span>  
            e2_2 | <span class="stres">  0.5526</span>  <span class="stres">  0.3845</span> |  <span class="stres">    0.5468</span>  
            e2_3 | <span class="stres">  0.2986</span>  <span class="stres">  0.6550</span> |  <span class="stres">    0.4819</span>  
            e2_4 | <span class="stres"> -0.1539</span>  <span class="stres">  0.7068</span> |  <span class="stres">    0.4767</span>  
            e2_6 | <span class="stres">  0.5801</span>  <span class="stres"> -0.1153</span> |  <span class="stres">    0.6502</span>  
            e2_7 | <span class="stres">  0.7117</span>  <span class="stres"> -0.1251</span> |  <span class="stres">    0.4778</span>  
            e2_9 | <span class="stres">  0.7294</span>  <span class="stres">  0.1046</span> |  <span class="stres">    0.4571</span>  
    -------------------------------------------------
</samp></pre>
                <li>正式分析，並進行座標軸旋轉，以突出潛在因子</li>
                <p>然後就要進行旋轉，關於因素分析的旋轉可以看<a href="https://molecular-service-science.com/2013/06/15/principal-component-analysis-and-factor-analysis/">這裡</a>
                </p>
                <p>STATA裡 旋轉幾種方式</p>
                <ol>
                    <li>orthogonal（the default）：正角，其中包含</li>
                    <ul>
                        <li>varimax ：最大變異法</li>
                        <li>vgpf ：varimax via the GPF algorithm</li>
                        <li>quartimax</li>
                        <li>equamax</li>
                        <li>parsimax</li>
                        <li>entropy</li>
                        <li>tandem1</li>
                        <li>tandem2</li>
                    </ul>
                    <li>oblique：斜角 > promax：斜交旋轉</li>
                    <li>oblimin :最小斜交</li>
                    <li>bentler</li>
                    <li>oblimax</li>
                    <li>quartimin</li>
                </ol>
                <p>在Stata輸入<code>h rotate</code>可以看到簡單的介紹。</p>
                <p>開始前或完成後記得輸入<code>rotate, clear</code>，以便清除掉內存的記憶，否則會在前面的資訊上繼續作旋轉，如此則會扭曲其中的關係。</p>
                <pre id="stlog-10" class="stlog"><samp><span class="stinp">. rotate, clear</span>

<span class="stinp">. rotate, blank(.4)</span>

Factor analysis/correlation                      Number of obs    = <span class="stres">     1,998</span>
<span class="stres">    </span>Method: principal-component factors          Retained factors =   <span class="stres">       2</span>
<span class="stres">    </span>Rotation: orthogonal varimax (Kaiser off)    Number of params =   <span class="stres">      13</span>

    --------------------------------------------------------------------------
         Factor  |     Variance   Difference        Proportion   Cumulative
    -------------+------------------------------------------------------------
        Factor1  |<span class="stres">      1.89268      0.31435            0.2704       0.2704</span>
        Factor2  |<span class="stres">      1.57832            .            0.2255       0.4959</span>
    --------------------------------------------------------------------------
    LR test: independent vs. saturated:  chi2(<span class="stres">21</span>) =<span class="stres"> 1358.54</span> Prob&gt;chi2 =<span class="stres"> 0.0000</span>

Rotated factor loadings (pattern matrix) and unique variances

    -------------------------------------------------
        Variable |  Factor1   Factor2 |   Uniqueness 
    -------------+--------------------+--------------
            e2_1 | <span class="stres">        </span>  <span class="stres">  0.7139</span> |  <span class="stres">    0.4385</span>  
            e2_2 | <span class="stres">  0.6011</span>  <span class="stres">        </span> |  <span class="stres">    0.5468</span>  
            e2_3 | <span class="stres">        </span>  <span class="stres">  0.6066</span> |  <span class="stres">    0.4819</span>  
            e2_4 | <span class="stres">        </span>  <span class="stres">  0.7214</span> |  <span class="stres">    0.4767</span>  
            e2_6 | <span class="stres">  0.5582</span>  <span class="stres">        </span> |  <span class="stres">    0.6502</span>  
            e2_7 | <span class="stres">  0.6871</span>  <span class="stres">        </span> |  <span class="stres">    0.4778</span>  
            e2_9 | <span class="stres">  0.7368</span>  <span class="stres">        </span> |  <span class="stres">    0.4571</span>  
    -------------------------------------------------
    (blanks represent abs(loading)&lt;<span class="stres">.4</span>)

Factor rotation matrix

    --------------------------------
                 | Factor1  Factor2 
    -------------+------------------
         Factor1 | <span class="stres"> 0.9901</span>  <span class="stres">-0.1402</span> 
         Factor2 | <span class="stres"> 0.1402</span>  <span class="stres"> 0.9901</span> 
    --------------------------------

<span class="stinp">. loadingplot  <span class="stcmt">/* 以圖形顯示各變項之座標 */</span></span>
</samp></pre>
                <p>建立潛在變項</p>
                <pre id="stlog-11" class="stlog"><samp><span class="stinp">. predict noeffort noluck</span>
(regression scoring assumed)

Scoring coefficients (method = regression; based on varimax rotated factors)

    ----------------------------------
        Variable |  Factor1   Factor2 
    -------------+--------------------
            e2_1 | <span class="stres">-0.10947</span>  <span class="stres"> 0.44918</span> 
            e2_2 | <span class="stres"> 0.32240</span>  <span class="stres"> 0.20139</span> 
            e2_3 | <span class="stres"> 0.21408</span>  <span class="stres"> 0.39052</span> 
            e2_4 | <span class="stres">-0.01717</span>  <span class="stres"> 0.45659</span> 
            e2_6 | <span class="stres"> 0.29215</span>  <span class="stres">-0.11543</span> 
            e2_7 | <span class="stres"> 0.35990</span>  <span class="stres">-0.13133</span> 
            e2_9 | <span class="stres"> 0.38959</span>  <span class="stres"> 0.01202</span> 
    ----------------------------------

</samp></pre>
                <p>檢查建立的變項</p>
                <pre id="stlog-12" class="stlog"><samp><span class="stinp">. sum  noluck noeffort   <span class="stcmt">/*平均數為0，標準差為1:標準常態分佈*/</span></span>

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
      noluck |<span class="stres">      1,998   -8.00e-10           1  -4.454852   3.136954</span>
    noeffort |<span class="stres">      1,998    1.42e-09           1  -3.714611   4.112346</span>
</samp></pre>
            </ol>
            <p>若想建立更好理解的分數，可以有下列幾種方式</p>
            <ol>
                <li>將屬於同一因子的變項的分數相加得到總分</li>
                <pre id="stlog-13" class="stlog"><samp><span class="stinp">. cap drop noeffort2</span>

<span class="stinp">. cap drop noluck2</span>

<span class="stinp">. g noeffort2   = (e2_1 + e2_4 + e2_8 )/3</span>
(28 missing values generated)

<span class="stinp">. g noluck2 = (e2_2 + e2_3 + e2_5 +e2_9)/4</span>
(36 missing values generated)

<span class="stinp">. </span>
<span class="stinp">. sum  noluck2 noeffort2</span>

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     noluck2 |<span class="stres">      2,004    2.384481    .3959401          1          4</span>
   noeffort2 |<span class="stres">      2,012    2.810968    .4902464          1          4</span>

<span class="stinp">. </span>
<span class="stinp">. list e2_2  e2_6  e2_7  e2_9 noluck2 in 1/5 , noobs clean</span>

    <span class="stres">e2_2   e2_6   e2_7   e2_9   noluck2 </span> 
    <span class="stres">   2      2      2      1         2 </span> 
    <span class="stres">   1      4      4      4       2.5 </span> 
    <span class="stres">   1      3      2      2         2 </span> 
    <span class="stres">   3      4      3      4         3 </span> 
    <span class="stres">   3      3      1      1       2.5 </span> 

<span class="stinp">. list e2_1  e2_3  e2_4  noeffort2 in 1/5 , noobs clean</span>

    <span class="stres">e2_1   e2_3   e2_4   noeffo~2 </span> 
    <span class="stres">   3      3      4   3.333333 </span> 
    <span class="stres">   4      1      2   2.333333 </span> 
    <span class="stres">   3      2      3          3 </span> 
    <span class="stres">   4      2      4   3.666667 </span> 
    <span class="stres">   2      4      2   2.333333 </span> 

<span class="stinp">. </span>
<span class="stinp">. lab var noluck2 "總加運氣指數"               <span class="stcmt">/* 請注意：這是反向的總分，愈高分代表愈沒有努力 */</span></span>

<span class="stinp">. lab var noeffort2 "總加個人努力指數"           <span class="stcmt">/* 請注意：這是反向的總分，愈高分代表愈沒有運氣 */</span></span>

<span class="stinp">. </span>
<span class="stinp">. corr noeffort2 noluck2</span>
(obs=2,003)

             | noeffo~2  noluck2
-------------+------------------
   noeffort2 |<span class="stres">   1.0000</span>
<span class="stres">     </span>noluck2 |<span class="stres">   0.1452   1.0000</span>

</samp></pre>
                <li>將前面用<code>predict</code>所建立的潛在變項做轉換，回復到由0-100的分數</li>
                <pre id="stlog-14" class="stlog"><samp><span class="stinp">. g noluck3=100*normal(noluck)</span>
(42 missing values generated)

<span class="stinp">. lab var noluck3 "常模運氣指數"</span>

<span class="stinp">. </span>
<span class="stinp">. g noeffort3=100*normal(noeffort)</span>
(42 missing values generated)

<span class="stinp">. lab var noeffort3 "常模個人努力指數"</span>

<span class="stinp">. </span>
<span class="stinp">. sum  noluck3 noeffort3</span>

    Variable |        Obs        Mean    Std. Dev.       Min        Max
-------------+---------------------------------------------------------
     noluck3 |<span class="stres">      1,998     50.6358     28.6926   .0004198   99.91464</span>
   noeffort3 |<span class="stres">      1,998    49.72918    28.03488   .0101758   99.99804</span>

<span class="stinp">. corr noluck3 noeffort3</span>
(obs=1,998)

             |  noluck3 noeffo~3
-------------+------------------
     noluck3 |<span class="stres">   1.0000</span>
<span class="stres">   </span>noeffort3 |<span class="stres">   0.0076   1.0000</span>


<span class="stinp">. </span>
<span class="stinp">. list e2_2  e2_6  e2_7  e2_9 noluck3 in 1/20 , noobs clean</span>

    <span class="stres">e2_2   e2_6   e2_7   e2_9    noluck3 </span> 
    <span class="stres">   2      2      2      1   92.86724 </span> 
    <span class="stres">   1      4      4      4   4.292683 </span> 
    <span class="stres">   1      3      2      2   34.49693 </span> 
    <span class="stres">   3      4      3      4   90.21073 </span> 
    <span class="stres">   3      3      1      1   67.04468 </span> 
    <span class="stres">   2      2      1      3   61.98824 </span> 
    <span class="stres">   2      2      2      2   77.87349 </span> 
    <span class="stres">   2      4      3      2   .6476567 </span> 
    <span class="stres">   3      3      3      3   76.61908 </span> 
    <span class="stres">   2      3      3      3   5.022593 </span> 
    <span class="stres">   3      4      2      2   93.19616 </span> 
    <span class="stres">   2      3      3      3   16.14698 </span> 
    <span class="stres">   3      2      4      3   91.58392 </span> 
    <span class="stres">   2      3      2      2   47.78933 </span> 
    <span class="stres">   2      2      2      2   93.13187 </span> 
    <span class="stres">   2      2      2      3   80.25647 </span> 
    <span class="stres">   2      2      2      2   54.52605 </span> 
    <span class="stres">   2      3      2      3    22.5578 </span> 
    <span class="stres">   2      2      2      2   54.52605 </span> 
    <span class="stres">   2      3      2      2   7.682744 </span> 

<span class="stinp">. list e2_1  e2_3  e2_4  noeffort3 in 1/20 , noobs clean</span>

    <span class="stres">e2_1   e2_3   e2_4   noeffo~3 </span> 
    <span class="stres">   3      3      4   11.21454 </span> 
    <span class="stres">   4      1      2   92.51644 </span> 
    <span class="stres">   3      2      3   14.89145 </span> 
    <span class="stres">   4      2      4   98.61098 </span> 
    <span class="stres">   2      4      2    37.8252 </span> 
    <span class="stres">   3      3      2   29.08532 </span> 
    <span class="stres">   3      3      3   28.75189 </span> 
    <span class="stres">   1      2      2   82.31297 </span> 
    <span class="stres">   3      3      3   95.44567 </span> 
    <span class="stres">   2      2      2   83.33516 </span> 
    <span class="stres">   3      3      4   79.34434 </span> 
    <span class="stres">   2      3      2   90.76031 </span> 
    <span class="stres">   3      3      4   96.99076 </span> 
    <span class="stres">   3      2      3   31.16382 </span> 
    <span class="stres">   2      4      4   47.22497 </span> 
    <span class="stres">   2      3      4   57.89925 </span> 
    <span class="stres">   3      2      3   17.89715 </span> 
    <span class="stres">   3      2      2   56.48738 </span> 
    <span class="stres">   3      2      3   17.89715 </span> 
    <span class="stres">   2      2      2   38.02294 </span> 

<span class="stinp">. </span>
<span class="stinp">. <span class="stcmt">* 這裡所建立的常模也是反向的，愈高分代表愈沒有努力，或愈沒有運氣</span></span>
<span class="stinp">. </span>
<span class="stinp">. lab var noluck3 "總加運氣指數"</span>

<span class="stinp">. lab var noeffort3 "總加個人努力指數"</span>
</samp></pre>
            </ol>
        </section>
    </main>
    <footer>
        <script src="https://astalsi401.github.io/jQuery/jquery-3.6.0.min.js"></script>
        <script>
            const requestURL = '../assets/js/json/data.json'
            const picsUrl = '../assets/js/json/pics/stata014.json'
        </script>
        <script src="../assets/js/main.js"></script>
    </footer>
</body>

</html>